<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/batman-apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/batman-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/batman-16x16.png"><link rel="mask-icon" href="/images/logo.png" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="YQDUWQVNkRsSfKbIDzWl-uzg0_hVq3QeasmEKujhCFg"><meta name="msvalidate.01" content="13C26B46DF414639BECD7AC8E631A329"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="[object Object]"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"haoluoluo.github.io",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!0,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!0,lazyload:!0,pangu:!0,comments:{style:"tabs",active:null,storage:!0,lazyload:!0,nav:null},algolia:{appID:"0CBJECU1GT",apiKey:"31ac23cd5f8b4d32a486f87dd5e1133e",indexName:"dev_blogs",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"./public/search.xml"}</script><meta name="description" content="原文来自:seisman本文将介绍如何在 Linux 下安装 TeXLive 2017。"><meta property="og:type" content="article"><meta property="og:title" content="安装 latex"><meta property="og:url" content="http://haoluoluo.github.io/2020/05/17/latex-install/index.html"><meta property="og:site_name" content="管锥"><meta property="og:description" content="原文来自:seisman本文将介绍如何在 Linux 下安装 TeXLive 2017。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-05-17T11:59:19.000Z"><meta property="article:modified_time" content="2021-07-07T12:30:08.409Z"><meta property="article:author" content="HaoLuo"><meta property="article:tag" content="ubuntu"><meta property="article:tag" content=" 安装"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://haoluoluo.github.io/2020/05/17/latex-install/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><meta name="keywords" content="ubuntu, 安装"><title>安装 latex | 管锥</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="管锥" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">管锥</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">以管窥天，以锥刺地</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hhb2x1b2x1bw==" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></span><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://haoluoluo.github.io/2020/05/17/latex-install/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="HaoLuo"><meta itemprop="description" content="天行健，君子以自强不息"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="管锥"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">安装 latex</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-05-17 19:59:19" itemprop="dateCreated datePublished" datetime="2020-05-17T19:59:19+08:00">2020-05-17</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-07-07 20:30:08" itemprop="dateModified" datetime="2021-07-07T20:30:08+08:00">2021-07-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/latex/" itemprop="url" rel="index"><span itemprop="name">latex</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论：</span><a title="valine" href="/2020/05/17/latex-install/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/05/17/latex-install/" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>8 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>原文来自:<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NlaXNtYW4vc2Vpc21hbi5pbmZvLnBvc3RzL2Jsb2IvbWFzdGVyL19wb3N0cy8yMDEzLTA3LTExLWluc3RhbGwtdGV4bGl2ZS11bmRlci1saW51eC5tZA==">seisman<i class="fa fa-external-link-alt"></i></span><br><br>本文将介绍如何在 Linux 下安装 TeXLive 2017。</p><a id="more"></a><h2 id="依赖包"><a href="#依赖包" class="headerlink" title="依赖包"></a>依赖包</h2><ul><li>安装过程中需要调用 Perl 的模块 <code>Digest::MD5</code> 来检测 ISO 文件的完整性；</li><li>升级过程中界面需要调用 Perl 的模块 <code>Tk</code> ；</li></ul><p>CentOS:</p><pre><code>$ sudo yum install perl-Digest-MD5 perl-Tk</code></pre><p>Ubuntu:</p><pre><code>$ sudo apt-get install libdigest-perl-md5-perl perl-tk</code></pre><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>下载地址：</p><ul><li>官方镜像: <span class="exturl" data-url="aHR0cDovL21pcnJvcnMuY3Rhbi5vcmcvc3lzdGVtcy90ZXhsaXZlL0ltYWdlcy90ZXhsaXZlMjAxNy5pc28=">texlive2017.iso<i class="fa fa-external-link-alt"></i></span></li><li>USTC 镜像: <span class="exturl" data-url="aHR0cDovL21pcnJvcnMudXN0Yy5lZHUuY24vQ1RBTi9zeXN0ZW1zL3RleGxpdmUvSW1hZ2VzL3RleGxpdmUyMDE3Lmlzbw==">texlive2017.iso<i class="fa fa-external-link-alt"></i></span></li></ul><p>Linux 下可以用 wget、axel，windows 下可以用迅雷，怎么快怎么来。</p><h3 id="挂载-ISO-镜像"><a href="#挂载-ISO-镜像" class="headerlink" title="挂载 ISO 镜像"></a>挂载 ISO 镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ su</span><br><span class="line"><span class="comment"># mount -o loop texlive2017.iso  /mnt/</span></span><br><span class="line"><span class="comment"># cd /mnt</span></span><br><span class="line"><span class="comment"># ./install-tl</span></span><br></pre></td></tr></table></figure><p>出现选项后，输入 <code>I</code> 直接安装（也可以更改选项）。不出意外的话，5 分钟应该就 OK 了，<br>然后退出 root 用户。</p><h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>在当前用户的 <code>~/.bashrc</code> 中加入如下语句：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># TeX Live 2017</span></span><br><span class="line"><span class="built_in">export</span> MANPATH=<span class="variable">$&#123;MANPATH&#125;</span>:/usr/<span class="built_in">local</span>/texlive/2017/texmf-dist/doc/man</span><br><span class="line"><span class="built_in">export</span> INFOPATH=<span class="variable">$&#123;INFOPATH&#125;</span>:/usr/<span class="built_in">local</span>/texlive/2017/texmf-dist/doc/info</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;PATH&#125;</span>:/usr/<span class="built_in">local</span>/texlive/2017/bin/x86_64-linux</span><br></pre></td></tr></table></figure><h3 id="卸载-ISO-镜像"><a href="#卸载-ISO-镜像" class="headerlink" title="卸载 ISO 镜像"></a>卸载 ISO 镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span></span><br><span class="line">$ sudo umount /mnt/</span><br></pre></td></tr></table></figure><h2 id="更新-TeXLive"><a href="#更新-TeXLive" class="headerlink" title="更新 TeXLive"></a>更新 TeXLive</h2><p>可以使用如下命令更新 TeXLive 宏包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ su</span><br><span class="line"><span class="comment"># 更新 TeXLive 包管理器 tlmgr</span></span><br><span class="line"><span class="comment"># tlmgr update --self</span></span><br><span class="line"><span class="comment"># 更新 TeXLive 的全部包</span></span><br><span class="line"><span class="comment"># tlmgr update --all</span></span><br></pre></td></tr></table></figure><p>默认情况下，会自动搜索合适的镜像来更新，也可以使用 <code>--repository</code> 选项指定了要使用<br>哪一个 CTAN 镜像。</p><p>比如 USTC 镜像:</p><pre><code># tlmgr update --self --repository http://mirrors.ustc.edu.cn/CTAN/systems/texlive/tlnet/
# tlmgr update --all --repository http://mirrors.ustc.edu.cn/CTAN/systems/texlive/tlnet/</code></pre><p>比如阿里云镜像:</p><pre><code># tlmgr update --self --repository http://mirrors.aliyun.com/CTAN/systems/texlive/tlnet/
# tlmgr update --all --repository http://mirrors.aliyun.com/CTAN/systems/texlive/tlnet/</code></pre><p>如果希望在图形界面下升级，可以使用如下命令调出 tlmgr 的中文图形界面：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ su</span><br><span class="line"><span class="comment"># tlmgr --gui --gui-lang zh_CN</span></span><br></pre></td></tr></table></figure><h2 id="安装额外的字体"><a href="#安装额外的字体" class="headerlink" title="安装额外的字体"></a>安装额外的字体</h2><p>TeXLive 2017 在使用 xeLaTeX 处理中文时，有自己的默认字体。大多数 Linux 发行版下，<br>都使用自带的 Fandol 字体。</p><p>如果想要使用 Windows 字体，可以将字体文件复制到 <code>~/.fonts</code> 目录下，并在 tex 源码中<br>指定字体选项即可。<br>或者：<br>sudo apt-get install latex-cjk-all</p><h2 id="卸载texlive"><a href="#卸载texlive" class="headerlink" title="卸载texlive"></a>卸载texlive</h2><p>原文来自：<span class="exturl" data-url="aHR0cHM6Ly90ZXguc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzk1NDgzL2hvdy10by1yZW1vdmUtZXZlcnl0aGluZy1yZWxhdGVkLXRvLXRleC1saXZlLWZvci1mcmVzaC1pbnN0YWxsLW9uLXVidW50dQ==">stackexchange<i class="fa fa-external-link-alt"></i></span></p><p>Try the following commands, one after another. If you progress, respective folders may already be deleted:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. sudo apt-get purge texlive*</span><br><span class="line">2. rm -rf /usr/<span class="built_in">local</span>/texlive/* and rm -rf ~/.texlive*</span><br><span class="line">3. rm -rf /usr/<span class="built_in">local</span>/share/texmf</span><br><span class="line">4. rm -rf /var/lib/texmf</span><br><span class="line">5. rm -rf /etc/texmf</span><br><span class="line">6. sudo apt-get remove tex-common --purge</span><br><span class="line">7. rm -rf ~/.texlive</span><br><span class="line">8. find -L /usr/<span class="built_in">local</span>/bin/ -lname /usr/<span class="built_in">local</span>/texlive/*/bin/* | xargs rm</span><br></pre></td></tr></table></figure><p>This finds all the files in /usr/local/bin which point to a location within /usr/local/texlive/<em>/bin/</em> and removes them; because we’ve already deleted all of /usr/local/texlive, these are dead links. To see which files are being deleted, replace xargs rm with xargs -t rm (or tee off to a log file, or whatever).</p><p>Ubuntu 安装源已经打包了 TEX Live。对于大部分的用户，源里面的 TEX Live 安装简单，稳定性通常也足够，所以可以直接安装[1]。为了避免宏包依赖问题，推荐安装完整版（如果磁盘空间足够）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install texlive-full</span><br></pre></td></tr></table></figure><p>然而，源里面的 TEX Live 相比于「纯净版」，也有一些缺点：</p><p>相比于几乎每日都有更新的 CTAN，源里面的 TEX Live 更新较慢，频率接近每月一次，对于宏包开发者和有特殊需要的 TEX 用户是远远不够的<br>不使用 TEX Live 自带的包管理器，也就不能通过 tlmgr 安装、管理和更新宏包（当然实际上跟上一条说的是一件事）<br>下面就介绍安装「纯净版」TEX Live 的方法。</p><p>下载安装包<br>如果身在国内，推荐改用国内的镜像，比如清华大学的 tuna 镜像站。以下都以这个镜像为例。</p><p>在此处下载 install-tl-unx.tar.gz，解压并进入文件夹 install-tl-2018*。这里的 * 是一个日期。</p><p>命令行中的操作如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet/install-tl-unx.tar.gz</span><br><span class="line">tar -xzf install-tl-unx.tar.gz</span><br><span class="line"><span class="built_in">cd</span> install-tl-20*</span><br></pre></td></tr></table></figure><p>安装 TEX Live<br>命令行中执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./install-tl -repository https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet/</span><br></pre></td></tr></table></figure><p>注意需要管理员权限。如有必要，可能还需安装 perl-tl 和 perl-doc：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install perl-tk perl-doc</span><br></pre></td></tr></table></figure><p>等待片刻后会进入选项菜单，根据需要酌情选取。也可以事先写好配置文件 texlive.profile[2]。</p><p>没有特殊需要的话，collection 可以不必全部安装，尤其是很多小语种。不过后果是之后可能会缺包。不愿意之后手动安装，并且空间足够、网速足够，也可以全部安装。注意 TEX Live 完全安装后大约要占 6 GB 空间，安装前请务必做好准备。中途断网很可能导致安装失败。</p><p>其他选项没有必要保持默认即可。</p><p>GUI 模式<br>开启 -gui 选项后可以在图形界面安装（当然前提是要有 GUI 支持）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./install-tl -gui -repository https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet/</span><br></pre></td></tr></table></figure><p>如下图所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">texlive-gui</span><br></pre></td></tr></table></figure><p>注意此时终端不可以关闭。</p><p>环境变量设置<br>此时 TEX Live 虽已安装，但其路径对于 Linux 来说仍是不可识别的。所以需要更改环境变量。</p><p>打开 ~/.bashrc，在最后添加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/texlive/2020/bin/x86_64-linux:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> MANPATH=/usr/<span class="built_in">local</span>/texlive/2020/texmf-dist/doc/man:<span class="variable">$MANPATH</span></span><br><span class="line"><span class="built_in">export</span> INFOPATH=/usr/<span class="built_in">local</span>/texlive/2020/texmf-dist/doc/info:<span class="variable">$INFOPATH</span></span><br></pre></td></tr></table></figure><p>还需保证开启 sudo 模式后路径仍然可用。命令行中执行</p><p>sudo visudo<br>找到如下一段代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Defaults        env_reset</span><br><span class="line">Defaults        mail_badpass</span><br><span class="line">Defaults        secure_path=<span class="string">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"</span></span><br></pre></td></tr></table></figure><p>将第三行更改为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Defaults        secure_path=<span class="string">"/usr/local/texlive/2018/bin/x86_64-linux:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"</span></span><br></pre></td></tr></table></figure><p>也就是加入 TEX Live 的执行路径。如果在安装时作了修改，这里的路径也都要与安装时的保持一致。</p><p>字体设置<br>要在整个系统中使用 TEX 字体，还需要将 TEX 自带的配置文件复制到系统目录下。命令行中执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /usr/<span class="built_in">local</span>/texlive/2018/texmf-var/fonts/conf/texlive-fontconfig.conf /etc/fonts/conf.d/09-texlive.conf</span><br></pre></td></tr></table></figure><p>之后再执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">fc</span>-cache -fv</span><br></pre></td></tr></table></figure><p>刷新字体数据库。</p><p>安装「dummy package」</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TODO</span><br></pre></td></tr></table></figure><p>检查<br>到此整个 TEX Live 2018 就已经安装完毕。可以做下面的一些检查：</p><p>基本命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tlmgr --version</span><br><span class="line">pdftex --version</span><br><span class="line">xetex --version</span><br><span class="line">luatex --version</span><br></pre></td></tr></table></figure><p>包管理器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tlmgr update --list</span><br></pre></td></tr></table></figure><p>这一步是检查更新，如果有就顺手更了吧：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tlmgr update --self --all</span><br></pre></td></tr></table></figure><p>–self 用来更新 tlmgr 自身，如果上一步没有提示可以不加这个选项。</p><p>Hello world<br>可以编译一个简短的测试文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">% hello.tex</span><br><span class="line">\documentclass[UTF8]&#123;ctexart&#125;</span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">欢迎来到 \TeX&#123;&#125; 世界！</span><br><span class="line">\end&#123;document&#125;</span><br><span class="line">用 xelatex 或 lualatex 编译：</span><br><span class="line"></span><br><span class="line">xelatex hello</span><br><span class="line">lualatex hello</span><br></pre></td></tr></table></figure><p>编译得到的 PDF 文件如果显示正常，则说明 TEX Live 基本工作正常。</p></div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div><div class="reward-container"><div></div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.png" alt="HaoLuo 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.png" alt="HaoLuo 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> HaoLuo</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://haoluoluo.github.io/2020/05/17/latex-install/" title="安装 latex">http://haoluoluo.github.io/2020/05/17/latex-install/</a></li><li class="post-copyright-license"><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/latex/" rel="tag"><i class="fa fa-tag"></i> latex</a></div><div class="post-widgets"><div class="wp_rating"><div id="wpac-rating"></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/05/15/home/" rel="prev" title="简介"><i class="fa fa-chevron-left"></i> 简介</a></div><div class="post-nav-item"><a href="/2020/05/17/install-ubuntu/" rel="next" title="安装ubuntu">安装ubuntu<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="tabs tabs-comment"><ul class="nav-tabs"><li class="tab"><a href="#comment-disqus">disqus</a></li><li class="tab"><a href="#comment-valine">valine</a></li><li class="tab"><a href="#comment-gitalk">gitalk</a></li></ul><div class="tab-content"><div class="tab-pane disqus" id="comment-disqus"><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div><div class="tab-pane valine" id="comment-valine"><div class="comments" id="valine-comments"></div></div><div class="tab-pane gitalk" id="comment-gitalk"><div class="comments" id="gitalk-container"></div></div></div></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#依赖包"><span class="nav-number">1.</span> <span class="nav-text">依赖包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">2.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#下载"><span class="nav-number">2.1.</span> <span class="nav-text">下载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#挂载-ISO-镜像"><span class="nav-number">2.2.</span> <span class="nav-text">挂载 ISO 镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#环境变量"><span class="nav-number">2.3.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#卸载-ISO-镜像"><span class="nav-number">2.4.</span> <span class="nav-text">卸载 ISO 镜像</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更新-TeXLive"><span class="nav-number">3.</span> <span class="nav-text">更新 TeXLive</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装额外的字体"><span class="nav-number">4.</span> <span class="nav-text">安装额外的字体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#卸载texlive"><span class="nav-number">5.</span> <span class="nav-text">卸载texlive</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="HaoLuo" src="/images/avatar.png"><p class="site-author-name" itemprop="name">HaoLuo</p><div class="site-description" itemprop="description">天行健，君子以自强不息</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">20</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hhb2x1b2x1bw==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;haoluoluo"><i class="fab fa-github fa-fw"></i> GitHub</span></span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS96ZGFpb3Q=" title="zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;zdaiot"><i class="fa fa-book fa-fw"></i> zhihu</span></span></div><div class="cc-license motion-element" itemprop="license"><span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("04/16/2020 16:00:00"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="相恋"+daysold+" 天 "}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">HaoLuo</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-chart-area"></i></span> <span title="站点总字数">371k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span title="站点阅读时长">11:15</span></div><span id="sitetime"></span><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=36e5,t=24*e,o=new Date,i=o.getFullYear(),a=o.getMonth()+1,n=o.getDate(),r=o.getHours(),l=o.getMinutes(),s=o.getSeconds(),M=Date.UTC(2020,3,4,16,0,0),g=Date.UTC(i,a,n,r,l,s)-M,m=Math.floor(g/31536e6),T=Math.floor(g/t-365*m),f=Math.floor((g-(365*m+T)*t)/e),h=Math.floor((g-(365*m+T)*t-f*e)/6e4),u=Math.floor((g-(365*m+T)*t-f*e-6e4*h)/1e3);document.getElementById("sitetime").innerHTML=" 相识"+m+" 年 "+T+" 天 "+f+" 小时 "+h+" 分钟 "+u+" 秒"}siteTime()</script></div></footer></div><script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});</script><script data-pjax>CONFIG.page.isPost&&(wpac_init=window.wpac_init||[],wpac_init.push({widget:"Rating",id:25510,el:"wpac-rating",color:"fc6423"}),function(){if(!("WIDGETPACK_LOADED"in window)){WIDGETPACK_LOADED=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t.nextSibling)}}())</script><script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script src="/js/algolia-search.js"></script><script data-pjax>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><div id="pjax"><script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://haoluoluo.github.io/2020/05/17/latex-install/',]
      });
      });</script><script>var disqus_config = function() {
    this.page.url = "http://haoluoluo.github.io/2020/05/17/latex-install/";
    this.page.identifier = "2020/05/17/latex-install/";
    this.page.title = "安装 latex";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://haoluo.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });</script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdnjs.cloudflare.com/ajax/libs/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'RrQR0C6TKuffgkYTFOUbIbmM-gzGzoHsz',
      appKey     : '5Wp8m6aE5ItsQupBECD5vHDs',
      placeholder: "欢迎您的评论",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '064551cb7517c65df35d',
      clientSecret: '2cc654055967781fbe901f1050e6823721dc7255',
      repo        : 'haoluoluo.github.io',
      owner       : 'haoluoluo',
      admin       : ['haoluoluo'],
      id          : '5cc47224216f6f687c5ba2472ed0c747',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});</script></div></body></html>